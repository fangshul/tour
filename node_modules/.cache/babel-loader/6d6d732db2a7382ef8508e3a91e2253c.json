{"remainingRequest":"D:\\tour\\phpfile\\html\\node_modules\\babel-loader\\lib\\index.js!D:\\tour\\phpfile\\html\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\tour\\phpfile\\html\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\tour\\phpfile\\html\\src\\views\\PushStrategy.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\tour\\phpfile\\html\\src\\views\\PushStrategy.vue","mtime":1586836284876},{"path":"D:\\tour\\phpfile\\html\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\tour\\phpfile\\html\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\tour\\phpfile\\html\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\tour\\phpfile\\html\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IE5hdiBmcm9tICcuLi9jb21wb25lbnRzL05hdi52dWUnOwppbXBvcnQgRm9vdCBmcm9tICcuLi9jb21wb25lbnRzL0Zvb3QudnVlJzsKaW1wb3J0IHsgbWF2b25FZGl0b3IgfSBmcm9tICdtYXZvbi1lZGl0b3InOwppbXBvcnQgJ21hdm9uLWVkaXRvci9kaXN0L2Nzcy9pbmRleC5jc3MnOyAvLyBpbXBvcnQgbWFya2VkIGZyb20gJ21hcmtlZCcKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnUHVzaFN0cnRlZ3knLAogIGNvbXBvbmVudHM6IHsKICAgIE5hdjogTmF2LAogICAgRm9vdDogRm9vdCwKICAgIG1hdm9uRWRpdG9yOiBtYXZvbkVkaXRvcgogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHRpdGxlOiAnJywKICAgICAgY29udGVudDogJycsCiAgICAgIGh0bWw6ICcnLAogICAgICBub3RlSW5mbzogJycsCiAgICAgIGlmTm90ZTogZmFsc2UKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBwdXNoU3RyYTogZnVuY3Rpb24gcHVzaFN0cmEoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICBjb25zb2xlLmxvZyh0aGlzLmNvbnRlbnQpOwogICAgICB0aGlzLmlmTm90ZSA9IHRydWU7CiAgICAgIHRoaXMubm90ZUluZm8gPSAn5q2j5Zyo5Y+R5biD6K+356iN562JJzsKICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXMuaWZOb3RlID0gZmFsc2U7IC8vIHRoaXMuJHJvdXRlci5wdXNoKCcvc3RyYXRlZ3knKQogICAgICB9LCAxMDAwKTsgLy8gY29uc29sZS5sb2cobWFya2VkKHRoaXMuY29udGVudCkpCgogICAgICB0aGlzLiRodHRwLnBvc3QoJ2h0dHBzOi8vd3kubHVqaWFoYW9vLmNuL3RvdXIvbWQucGhwJywgewogICAgICAgICJhY3Rpb24iOiAic3RyYXRlZ3lfcmVsZWFzZSIsCiAgICAgICAgInN0cmF0ZWd5X3RpdGxlIjogdGhpcy50aXRsZSwKICAgICAgICAic3RyYXRlZ3lfaHRtbCI6IHRoaXMuaHRtbCwKICAgICAgICAic3RyYXRlZ3lfbWQiOiB0aGlzLmNvbnRlbnQKICAgICAgfSwge30pLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkgewogICAgICAgIGNvbnNvbGUubG9nKHJlc3VsdCk7CiAgICAgICAgX3RoaXMuaWZOb3RlID0gdHJ1ZTsKICAgICAgICBfdGhpcy5ub3RlSW5mbyA9IHJlc3VsdC5ib2R5Lm1lc3NhZ2U7CiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgICBfdGhpcy5pZk5vdGUgPSBmYWxzZTsKCiAgICAgICAgICBfdGhpcy4kcm91dGVyLnB1c2goJy9zdHJhdGVneScpOwogICAgICAgIH0sIDEwMDApOyAvLyB0aGlzLiRyb3V0ZXIucHVzaCgnL3N0cmF0ZWd5JykKICAgICAgfSk7CiAgICB9LAogICAgY2hhbmdlOiBmdW5jdGlvbiBjaGFuZ2UodmFsdWUsIHJlbmRlcikgewogICAgICBjb25zb2xlLmxvZyhyZW5kZXIpOwogICAgICB0aGlzLmh0bWwgPSByZW5kZXI7CiAgICB9LAogICAgJGltZ0FkZDogZnVuY3Rpb24gJGltZ0FkZChwb3MsICRmaWxlKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgdmFyIGZvcm1kYXRhID0gbmV3IEZvcm1EYXRhKCk7CiAgICAgIGZvcm1kYXRhLmFwcGVuZCgnZWRpdG9ybWQtaW1hZ2UtZmlsZScsICRmaWxlKTsKICAgICAgdGhpcy4kaHR0cC5wb3N0KCdodHRwczovL3d5Lmx1amlhaGFvby5jbi90b3VyL3VwbG9hZC5waHAnLCBmb3JtZGF0YSwgewogICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnbXVsdGlwYXJ0L2Zvcm0tZGF0YScKICAgICAgICB9CiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkgewogICAgICAgIGNvbnNvbGUubG9nKHJlc3VsdCk7CgogICAgICAgIF90aGlzMi4kcmVmcy5tZC4kaW1nMlVybChwb3MsIHJlc3VsdC5ib2R5LnVybCk7IC8vIHRoaXMuJHJvdXRlci5wdXNoKCcvc3RyYXRlZ3knKQoKICAgICAgfSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["PushStrategy.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAuBA,OAAA,GAAA,MAAA,uBAAA;AACA,OAAA,IAAA,MAAA,wBAAA;AACA,SAAA,WAAA,QAAA,cAAA;AACA,OAAA,iCAAA,C,CACA;;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,aADA;AAEA,EAAA,UAAA,EAAA;AACA,IAAA,GAAA,EAAA,GADA;AAEA,IAAA,IAAA,EAAA,IAFA;AAGA,IAAA,WAAA,EAAA;AAHA,GAFA;AAOA,EAAA,IAPA,kBAOA;AACA,WAAA;AACA,MAAA,KAAA,EAAA,EADA;AAEA,MAAA,OAAA,EAAA,EAFA;AAGA,MAAA,IAAA,EAAA,EAHA;AAIA,MAAA,QAAA,EAAA,EAJA;AAKA,MAAA,MAAA,EAAA;AALA,KAAA;AAOA,GAfA;AAgBA,EAAA,OAAA,EAAA;AACA,IAAA,QADA,sBACA;AAAA;;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,KAAA,OAAA;AACA,WAAA,MAAA,GAAA,IAAA;AACA,WAAA,QAAA,GAAA,SAAA;AACA,MAAA,UAAA,CAAA,YAAA;AACA,QAAA,KAAA,CAAA,MAAA,GAAA,KAAA,CADA,CAEA;AACA,OAHA,EAGA,IAHA,CAAA,CAJA,CAQA;;AACA,WAAA,KAAA,CAAA,IAAA,CAAA,qCAAA,EAAA;AACA,kBAAA,kBADA;AAEA,0BAAA,KAAA,KAFA;AAGA,yBAAA,KAAA,IAHA;AAIA,uBAAA,KAAA;AAJA,OAAA,EAKA,EALA,EAKA,IALA,CAKA,UAAA,MAAA,EAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,MAAA;AACA,QAAA,KAAA,CAAA,MAAA,GAAA,IAAA;AACA,QAAA,KAAA,CAAA,QAAA,GAAA,MAAA,CAAA,IAAA,CAAA,OAAA;AACA,QAAA,UAAA,CAAA,YAAA;AACA,UAAA,KAAA,CAAA,MAAA,GAAA,KAAA;;AACA,UAAA,KAAA,CAAA,OAAA,CAAA,IAAA,CAAA,WAAA;AACA,SAHA,EAGA,IAHA,CAAA,CAJA,CAQA;AACA,OAdA;AAeA,KAzBA;AA0BA,IAAA,MA1BA,kBA0BA,KA1BA,EA0BA,MA1BA,EA0BA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,MAAA;AACA,WAAA,IAAA,GAAA,MAAA;AACA,KA7BA;AA8BA,IAAA,OA9BA,mBA8BA,GA9BA,EA8BA,KA9BA,EA8BA;AAAA;;AACA,UAAA,QAAA,GAAA,IAAA,QAAA,EAAA;AACA,MAAA,QAAA,CAAA,MAAA,CAAA,qBAAA,EAAA,KAAA;AACA,WAAA,KAAA,CAAA,IAAA,CAAA,yCAAA,EAAA,QAAA,EAAA;AACA,QAAA,OAAA,EAAA;AAAA,0BAAA;AAAA;AADA,OAAA,EAEA,IAFA,CAEA,UAAA,MAAA,EAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,MAAA;;AACA,QAAA,MAAA,CAAA,KAAA,CAAA,EAAA,CAAA,QAAA,CAAA,GAAA,EAAA,MAAA,CAAA,IAAA,CAAA,GAAA,EAFA,CAGA;;AACA,OANA;AAOA;AAxCA;AAhBA,CAAA","sourcesContent":["<template>\r\n\t<div>\r\n\t\t<header class=\"pushStraHead\">\r\n\t\t\t<Nav :white=\"'white'\"></Nav>\r\n\t\t\t<!-- <div>\r\n\t\t\t\t<i class=\"iconfont icon-tianjiatupian\" @click=\"choiceImg\"></i>\r\n\t\t\t\t<div>设置攻略头图</div>\r\n\t\t\t\t<input type=\"file\" name=\"\" v-show=\"false\" ref=\"straImg\" @change=\"pushImg\">  \r\n\t\t\t</div> -->\r\n\t\t\t<input type=\"text\" name=\"\" placeholder=\"填写攻略标题\" v-model=\"title\">\r\n\t\t</header>\r\n\t\t<div class=\"pub-str-content\">\r\n\t\t\t<div class=\"pub-box\">\r\n\t\t\t\t<mavon-editor class=\"edit\" v-model=\"content\" @change=\"change\" @imgAdd=\"$imgAdd\" ref=\"md\"/>\r\n\t\t\t\t<div class=\"pub-str\" @click=\"pushStra\">发布攻略</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<Foot></Foot>\r\n\t\t<div class=\"noteInfo\" v-show=\"ifNote\">{{ noteInfo }}</div>\r\n\t</div>\r\n</template>\r\n\r\n<script type=\"text/javascript\">\r\n\timport Nav from '../components/Nav.vue'\r\n\timport Foot from '../components/Foot.vue'\r\n\timport { mavonEditor } from 'mavon-editor'\r\n\timport 'mavon-editor/dist/css/index.css'\r\n\t// import marked from 'marked'\r\n\r\n\texport default {\r\n\t  name: 'PushStrtegy',\r\n\t  components: {\r\n\t    Nav,\r\n\t    Foot,\r\n\t    mavonEditor\r\n\t  },\r\n\t  data () {\r\n\t  \treturn {\r\n\t  \t\ttitle: '',\r\n\t  \t\tcontent: '',\r\n\t  \t\thtml: '',\r\n\t  \t\tnoteInfo: '',\r\n\t  \t\tifNote: false\r\n\t  \t}\r\n\t  },\r\n\t  methods: {\r\n\t  \tpushStra () {\r\n\t  \t\tconsole.log(this.content)\r\n\t  \t\tthis.ifNote = true\r\n\t\t\tthis.noteInfo = '正在发布请稍等'\r\n\t\t\tsetTimeout(()=>{\r\n\t\t\t\tthis.ifNote = false\r\n\t\t\t\t// this.$router.push('/strategy')\r\n\t\t\t},1000)\r\n\t  \t\t// console.log(marked(this.content))\r\n\t  \t\tthis.$http.post('https://wy.lujiahaoo.cn/tour/md.php',{\r\n\t\t\t\t\"action\":\"strategy_release\",\r\n                \"strategy_title\": this.title,\r\n                \"strategy_html\": this.html,\r\n                \"strategy_md\": this.content\r\n\t\t\t},{}).then(result => {\r\n\t\t\t\tconsole.log(result)\r\n\t\t\t\tthis.ifNote = true\r\n\t\t\t\tthis.noteInfo = result.body.message\r\n\t\t\t\tsetTimeout(()=>{\r\n\t\t\t\t\tthis.ifNote = false\r\n\t\t\t\t\tthis.$router.push('/strategy')\r\n\t\t\t\t},1000)\r\n\t\t\t\t// this.$router.push('/strategy')\r\n\t\t\t})\r\n\t  \t},\r\n\t  \tchange (value, render) {\r\n\t  \t\tconsole.log(render)\r\n\t  \t\tthis.html = render\r\n\t  \t},\r\n\t  \t$imgAdd (pos,$file) {\r\n\t  \t\tvar formdata = new FormData();\r\n           \tformdata.append('editormd-image-file', $file)\r\n           \tthis.$http.post('https://wy.lujiahaoo.cn/tour/upload.php',formdata,{\r\n\t\t\t\theaders: { 'Content-Type': 'multipart/form-data' }\r\n\t\t\t}).then(result => {\r\n\t\t\t\tconsole.log(result)\r\n\t\t\t\t this.$refs.md.$img2Url(pos, result.body.url)\r\n\t\t\t\t// this.$router.push('/strategy')\r\n\t\t\t})\r\n\t  \t}\r\n\t  }\r\n\t}\r\n</script>\r\n\r\n<style type=\"text/css\" >\r\n\t/*@import ''*/\r\n</style>\r\n<style type=\"text/css\" scoped>\r\n\t.pushStraHead{\r\n\t\theight: 288px;\r\n\t\tbackground-image: url(../../public/images/publish_strategy_bg.png);\r\n\t\tbackground-repeat: no-repeat;\r\n\t\tbackground-size: 100% 100%;\r\n\t}\r\n\t/deep/ #nav a{\r\n\t\tcolor: #fff;\r\n\t}\r\n\t.pub-str{\r\n\t\twidth: 116px;\r\n\t\theight: 45px;\r\n\t\tbackground: #768bc8;\r\n\t\tcolor: #fff;\r\n\t\ttext-align: center;\r\n\t\tline-height: 45px;\r\n\t\tcursor: pointer;\r\n\t\tborder-radius: 5px;\r\n\t\tmargin: 0 auto;\r\n\t\tmargin-bottom: 40px;\r\n\t}\r\n\t.edit{\r\n\t\twidth: 1136px;\r\n\t\theight: 656px;\r\n\t\tmargin: 50px auto;\r\n\t\t/*margin-top: 50px;*/\r\n\t}\r\n\t.pushStraHead>input{\r\n\t\twidth: 850px;\r\n\t\theight: 45px;\r\n\t\tmargin: 0 auto;\r\n\t\tdisplay: block;\r\n\t\tpadding: 0 40px;\r\n\t\tfont-size: 18px;\r\n\t\tborder-radius: 3px;\r\n\t\tborder:none;\r\n\t}\r\n\t.pushStraHead>div>div{\r\n\t\tdisplay: inline-block;\r\n\t\tvertical-align: top;\r\n\t\tcolor: #fff;\r\n\t\tfont-size: 24px;\r\n\t\theight: 60px;\r\n\t\tline-height: 60px;\r\n\t}\r\n\t.icon-tianjiatupian{\r\n\t\tfont-size: 60px;\r\n\t\tcolor:#fff;\r\n\t\tcursor: pointer;\r\n\t}\r\n\t.pushStraHead>div{\r\n\t\twidth: 266px;\r\n\t\tmargin: 0 auto;\r\n\t\tmargin-bottom: 35px;\r\n\t}\r\n\t.noteInfo{\r\n\t\tz-index: 10000;\r\n\t\twidth: 220px;\r\n\t}\r\n</style>"],"sourceRoot":"src/views"}]}