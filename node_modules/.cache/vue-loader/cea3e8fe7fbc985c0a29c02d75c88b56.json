{"remainingRequest":"D:\\tour\\phpfile\\html\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\tour\\phpfile\\html\\src\\views\\PushStrategy.vue?vue&type=style&index=1&id=1f207cd7&scoped=true&lang=css&","dependencies":[{"path":"D:\\tour\\phpfile\\html\\src\\views\\PushStrategy.vue","mtime":1586833461735},{"path":"D:\\tour\\phpfile\\html\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\tour\\phpfile\\html\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"D:\\tour\\phpfile\\html\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"D:\\tour\\phpfile\\html\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\tour\\phpfile\\html\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCi5wdXNoU3RyYUhlYWR7CgloZWlnaHQ6IDI4OHB4OwoJYmFja2dyb3VuZC1pbWFnZTogdXJsKC4uLy4uL3B1YmxpYy9pbWFnZXMvcHVibGlzaF9zdHJhdGVneV9iZy5wbmcpOwoJYmFja2dyb3VuZC1yZXBlYXQ6IG5vLXJlcGVhdDsKCWJhY2tncm91bmQtc2l6ZTogMTAwJSAxMDAlOwp9Ci9kZWVwLyAjbmF2IGF7Cgljb2xvcjogI2ZmZjsKfQoucHViLXN0cnsKCXdpZHRoOiAxMTZweDsKCWhlaWdodDogNDVweDsKCWJhY2tncm91bmQ6ICM3NjhiYzg7Cgljb2xvcjogI2ZmZjsKCXRleHQtYWxpZ246IGNlbnRlcjsKCWxpbmUtaGVpZ2h0OiA0NXB4OwoJY3Vyc29yOiBwb2ludGVyOwoJYm9yZGVyLXJhZGl1czogNXB4OwoJbWFyZ2luOiAwIGF1dG87CgltYXJnaW4tYm90dG9tOiA0MHB4Owp9Ci5lZGl0ewoJd2lkdGg6IDExMzZweDsKCWhlaWdodDogNjU2cHg7CgltYXJnaW46IDUwcHggYXV0bzsKCS8qbWFyZ2luLXRvcDogNTBweDsqLwp9Ci5wdXNoU3RyYUhlYWQ+aW5wdXR7Cgl3aWR0aDogODUwcHg7CgloZWlnaHQ6IDQ1cHg7CgltYXJnaW46IDAgYXV0bzsKCWRpc3BsYXk6IGJsb2NrOwoJcGFkZGluZzogMCA0MHB4OwoJZm9udC1zaXplOiAxOHB4OwoJYm9yZGVyLXJhZGl1czogM3B4OwoJYm9yZGVyOm5vbmU7Cn0KLnB1c2hTdHJhSGVhZD5kaXY+ZGl2ewoJZGlzcGxheTogaW5saW5lLWJsb2NrOwoJdmVydGljYWwtYWxpZ246IHRvcDsKCWNvbG9yOiAjZmZmOwoJZm9udC1zaXplOiAyNHB4OwoJaGVpZ2h0OiA2MHB4OwoJbGluZS1oZWlnaHQ6IDYwcHg7Cn0KLmljb24tdGlhbmppYXR1cGlhbnsKCWZvbnQtc2l6ZTogNjBweDsKCWNvbG9yOiNmZmY7CgljdXJzb3I6IHBvaW50ZXI7Cn0KLnB1c2hTdHJhSGVhZD5kaXZ7Cgl3aWR0aDogMjY2cHg7CgltYXJnaW46IDAgYXV0bzsKCW1hcmdpbi1ib3R0b206IDM1cHg7Cn0KLm5vdGVJbmZvewoJei1pbmRleDogMTAwMDA7Cgl3aWR0aDogMjIwcHg7Cn0K"},{"version":3,"sources":["PushStrategy.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"PushStrategy.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n\t<div>\r\n\t\t<header class=\"pushStraHead\">\r\n\t\t\t<Nav :white=\"'white'\"></Nav>\r\n\t\t\t<!-- <div>\r\n\t\t\t\t<i class=\"iconfont icon-tianjiatupian\" @click=\"choiceImg\"></i>\r\n\t\t\t\t<div>设置攻略头图</div>\r\n\t\t\t\t<input type=\"file\" name=\"\" v-show=\"false\" ref=\"straImg\" @change=\"pushImg\">  \r\n\t\t\t</div> -->\r\n\t\t\t<input type=\"text\" name=\"\" placeholder=\"填写攻略标题\" v-model=\"title\">\r\n\t\t</header>\r\n\t\t<div class=\"pub-str-content\">\r\n\t\t\t<div class=\"pub-box\">\r\n\t\t\t\t<mavon-editor class=\"edit\" v-model=\"content\" @change=\"change\" @imgAdd=\"$imgAdd\" ref=\"md\"/>\r\n\t\t\t\t<div class=\"pub-str\" @click=\"pushStra\">发布攻略</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<Foot></Foot>\r\n\t\t<div class=\"noteInfo\" v-show=\"ifNote\">{{ noteInfo }}</div>\r\n\t</div>\r\n</template>\r\n\r\n<script type=\"text/javascript\">\r\n\timport Nav from '../components/Nav.vue'\r\n\timport Foot from '../components/Foot.vue'\r\n\timport { mavonEditor } from 'mavon-editor'\r\n\timport 'mavon-editor/dist/css/index.css'\r\n\t// import marked from 'marked'\r\n\r\n\texport default {\r\n\t  name: 'PushStrtegy',\r\n\t  components: {\r\n\t    Nav,\r\n\t    Foot,\r\n\t    mavonEditor\r\n\t  },\r\n\t  data () {\r\n\t  \treturn {\r\n\t  \t\ttitle: '',\r\n\t  \t\tcontent: '',\r\n\t  \t\thtml: '',\r\n\t  \t\tnoteInfo: '',\r\n\t  \t\tifNote: false\r\n\t  \t}\r\n\t  },\r\n\t  methods: {\r\n\t  \tpushStra () {\r\n\t  \t\tconsole.log(this.content)\r\n\t  \t\tthis.ifNote = true\r\n\t\t\tthis.noteInfo = '正在发布请稍等'\r\n\t\t\tsetTimeout(()=>{\r\n\t\t\t\tthis.ifNote = false\r\n\t\t\t\t// this.$router.push('/strategy')\r\n\t\t\t},1000)\r\n\t  \t\t// console.log(marked(this.content))\r\n\t  \t\tthis.$http.post('https://wy.lujiahaoo.cn/tour/md.php',{\r\n\t\t\t\t\"action\":\"strategy_release\",\r\n                \"strategy_title\": this.title,\r\n                \"strategy_html\": this.html,\r\n                \"strategy_md\": this.content\r\n\t\t\t},{}).then(result => {\r\n\t\t\t\tconsole.log(result)\r\n\t\t\t\tthis.ifNote = true\r\n\t\t\t\tthis.noteInfo = result.body.message\r\n\t\t\t\tsetTimeout(()=>{\r\n\t\t\t\t\tthis.ifNote = false\r\n\t\t\t\t\tthis.$router.push('/strategy')\r\n\t\t\t\t},1000)\r\n\t\t\t\t// this.$router.push('/strategy')\r\n\t\t\t})\r\n\t  \t},\r\n\t  \tchange (value, render) {\r\n\t  \t\tconsole.log(render)\r\n\t  \t\tthis.html = render\r\n\t  \t},\r\n\t  \t$imgAdd (pos,$file) {\r\n\t  \t\tvar formdata = new FormData();\r\n           \tformdata.append('image', $file)\r\n           \tthis.$http.post('https://wy.lujiahaoo.cn/tour/upload.php',formdata,{\r\n\t\t\t\theaders: { 'Content-Type': 'multipart/form-data' }\r\n\t\t\t}).then(result => {\r\n\t\t\t\tconsole.log(result)\r\n\t\t\t\t this.$refs.md.$img2Url(pos, result.body.data)\r\n\t\t\t\t// this.$router.push('/strategy')\r\n\t\t\t})\r\n\t  \t}\r\n\t  }\r\n\t}\r\n</script>\r\n\r\n<style type=\"text/css\" >\r\n\t/*@import ''*/\r\n</style>\r\n<style type=\"text/css\" scoped>\r\n\t.pushStraHead{\r\n\t\theight: 288px;\r\n\t\tbackground-image: url(../../public/images/publish_strategy_bg.png);\r\n\t\tbackground-repeat: no-repeat;\r\n\t\tbackground-size: 100% 100%;\r\n\t}\r\n\t/deep/ #nav a{\r\n\t\tcolor: #fff;\r\n\t}\r\n\t.pub-str{\r\n\t\twidth: 116px;\r\n\t\theight: 45px;\r\n\t\tbackground: #768bc8;\r\n\t\tcolor: #fff;\r\n\t\ttext-align: center;\r\n\t\tline-height: 45px;\r\n\t\tcursor: pointer;\r\n\t\tborder-radius: 5px;\r\n\t\tmargin: 0 auto;\r\n\t\tmargin-bottom: 40px;\r\n\t}\r\n\t.edit{\r\n\t\twidth: 1136px;\r\n\t\theight: 656px;\r\n\t\tmargin: 50px auto;\r\n\t\t/*margin-top: 50px;*/\r\n\t}\r\n\t.pushStraHead>input{\r\n\t\twidth: 850px;\r\n\t\theight: 45px;\r\n\t\tmargin: 0 auto;\r\n\t\tdisplay: block;\r\n\t\tpadding: 0 40px;\r\n\t\tfont-size: 18px;\r\n\t\tborder-radius: 3px;\r\n\t\tborder:none;\r\n\t}\r\n\t.pushStraHead>div>div{\r\n\t\tdisplay: inline-block;\r\n\t\tvertical-align: top;\r\n\t\tcolor: #fff;\r\n\t\tfont-size: 24px;\r\n\t\theight: 60px;\r\n\t\tline-height: 60px;\r\n\t}\r\n\t.icon-tianjiatupian{\r\n\t\tfont-size: 60px;\r\n\t\tcolor:#fff;\r\n\t\tcursor: pointer;\r\n\t}\r\n\t.pushStraHead>div{\r\n\t\twidth: 266px;\r\n\t\tmargin: 0 auto;\r\n\t\tmargin-bottom: 35px;\r\n\t}\r\n\t.noteInfo{\r\n\t\tz-index: 10000;\r\n\t\twidth: 220px;\r\n\t}\r\n</style>"]}]}