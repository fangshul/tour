{"remainingRequest":"D:\\tour\\phpfile\\html\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\tour\\phpfile\\html\\src\\views\\Strategy.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\tour\\phpfile\\html\\src\\views\\Strategy.vue","mtime":1586951226479},{"path":"D:\\tour\\phpfile\\html\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\tour\\phpfile\\html\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\tour\\phpfile\\html\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\tour\\phpfile\\html\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCglpbXBvcnQgTmF2IGZyb20gJy4uL2NvbXBvbmVudHMvTmF2LnZ1ZScKCWltcG9ydCBGb290IGZyb20gJy4uL2NvbXBvbmVudHMvRm9vdC52dWUnCgoJZXhwb3J0IGRlZmF1bHQgewoJICBuYW1lOiAnU3RydGVneScsCgkgIGNvbXBvbmVudHM6IHsKCSAgICBOYXYsCgkgICAgRm9vdAoJICB9LAoJICBtZXRob2RzOiB7CgkgIAlnZXRkYXRlIChudW0pIHsKCSAgCQl0aGlzLnNlYXJjaCA9IGZhbHNlCgkgIAkJdGhpcy4kaHR0cC5wb3N0KCdodHRwczovL3d5Lmx1amlhaGFvby5jbi90b3VyL3N0cmF0ZWd5LnBocCcsewoJCQkJImFjdGlvbiI6InN0cmF0ZWd5X2xpc3QiLAogICAgICAgIAkJIm51bSI6bnVtCgkJCX0se30pLnRoZW4ocmVzdWx0ID0+IHsKCQkJCQoJCQkJaWYocmVzdWx0LmJvZHkuY29kZSA9PT0gJzEnKXsKCQkJCQlsZXQgbm93ZGF0YSA9IHJlc3VsdC5ib2R5LmRhdGEKCQkJCQl0aGlzLmRhdGFsaXN0ID0gdGhpcy5sYXN0ZGF0YS5jb25jYXQobm93ZGF0YSkKCQkJCQl0aGlzLmxhc3RkYXRhID0gdGhpcy5kYXRhbGlzdAoJCQkJCQoJCQkJCQoJCQkJfWVsc2V7CgkJCQkJdGhpcy5pZm1vcmUgPSB0cnVlCgkJCQkKCQkJCX0KCQkJCQoJCQkJY29uc29sZS5sb2cocmVzdWx0KQoJCQl9KQoJICAJfSwKCSAgCWdldG1vcmUgKCkgewoJICAJCS8v5rua5Yqo5p2h5rua5Yqo55qE6Led56a7CgkgCQlsZXQgc2Nyb2xsVG9wID0gZG9jdW1lbnQuYm9keS5zY3JvbGxUb3AgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcCB8fCAgd2luZG93LnBhZ2VZT2Zmc2V0CgkgCQkvL+eql+WPo+Wkp+WwjwoJIAkJbGV0IGNsaWVudEhlaWdodCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQKCSAJCS8v5Y+v6KeG6auY5bqm5Yqg5LiK5rqi5Ye66auY5bqmCiAgIAkJCWxldCBzY3JvbGxIZWlnaHQgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsSGVpZ2h0CgogICAJCQlsZXQgbGVuID0gc2Nyb2xsSGVpZ2h0IC0gc2Nyb2xsVG9wIC0gY2xpZW50SGVpZ2h0CgogICAJCQlpZiAobGVuIDwgMjUwICYmIHRoaXMubG9jayAmJiAhdGhpcy5zZWFyY2gpIHsKICAgCQkJCXRoaXMubG9jayA9IGZhbHNlCiAgIAkJCQl0aGlzLm51bSsrCgogICAJCQkJdGhpcy5nZXRkYXRlKHRoaXMubnVtKQoKICAgCQkJCWlmICh0aGlzLmlmbW9yZSAhPSB0cnVlKSB7CiAgIAkJCQkJdGhpcy5uZXh0ZGF0YSA9IHRydWUKICAgCQkJCQlzZXRUaW1lb3V0KCgpID0+IHsKICAgCQkJCQkJdGhpcy5sb2NrID0gdHJ1ZQogICAJCQkJCQl0aGlzLm5leHRkYXRhID0gZmFsc2UKICAgCQkJCQl9LDEwMDApCiAgIAkJCQl9CiAgIAkJCX0KCSAgCX0sCgkgIAkvL+aQnOe0ouaUu+eVpQoJICAJc2VhcmNoU3RyYSAoZGF0YSkgewoJICAJCXRoaXMuc2VhcmNoID0gdHJ1ZQoJICAJCXRoaXMuJGh0dHAucG9zdCgnaHR0cHM6Ly93eS5sdWppYWhhb28uY24vdG91ci9zZWFyY2gucGhwJyx7CgkJCQkiYWN0aW9uIjoic3RyYXRlZ3lfc2VhcmNoX2xpc3QiLAogICAgICAgIAkJImtleSI6IGRhdGEKCQkJfSx7fSkudGhlbihyZXN1bHQgPT4gewoJCQkJY29uc29sZS5sb2cocmVzdWx0KQoJCQkJdGhpcy5kYXRhbGlzdCA9IHJlc3VsdC5ib2R5LmRhdGEKCQkJfSkKCSAgCX0KCSAgfSwKCSAgZGF0YSAoKSB7CgkgIAlyZXR1cm4gewoJICAJCW51bTogMCwKCSAgCQlkYXRhbGlzdDonJywKCSAgCQlsYXN0ZGF0YTogW10sCgkgIAkJaWZtb3JlOiBmYWxzZSwKCSAgCQlsb2NrOiB0cnVlLAoJICAJCW5leHRkYXRhOiBmYWxzZSwKCSAgCQlzZWFyY2hEYXRhOiAnJywKCSAgCQlzZWFyY2g6IGZhbHNlCgkgIAl9CgkgIH0sCgkgIG1vdW50ZWQgKCkgewoJICAJaWYgKHRoaXMuJHJvdXRlLnF1ZXJ5LnNlYXJjaCAhPSB1bmRlZmluZWQpIHsKCSAgCQl0aGlzLnNlYXJjaERhdGEgPSB0aGlzLiRyb3V0ZS5xdWVyeS5zZWFyY2gKCSAgCQl0aGlzLnNlYXJjaFN0cmEodGhpcy4kcm91dGUucXVlcnkuc2VhcmNoKQoJICAJfSBlbHNlIHsKCSAgCQl0aGlzLmdldGRhdGUodGhpcy5udW0pCgkgIAl9CgkgIAkKCSAgCXdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCB0aGlzLmdldG1vcmUpCgkgIH0sCgkgIHdhdGNoOiB7CgkgIAknc2VhcmNoRGF0YSc6IGZ1bmN0aW9uICgpIHsKCSAgCQlpZiAodGhpcy5zZWFyY2hEYXRhID09PSAnJykgewoJICAJCQl0aGlzLmxhc3RkYXRhID0gW10KCQkgIAkJdGhpcy5nZXRkYXRlKDApCgkJICAJfQoJICAJfQoJICB9Cgl9Cg=="},{"version":3,"sources":["Strategy.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4DA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Strategy.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n\t<div>\r\n\t\t<header id=\"straHead\">\r\n\t\t\t<Nav></Nav>\r\n\t\t\t<div class=\"StraLxText\">旅行</div>\r\n\t\t\t<div class=\"StraJbText\">从<span>认识</span>开始</div>\r\n\t\t\t<router-link to=\"/pushstrategy\" class=\"StragoToBtn\" tag=\"div\">前往发布攻略</router-link>\r\n\t\t\t<!-- <div class=\"StragoToBtn\" @click=\"gotopush\">前往发布攻略</div> -->\r\n\t\t\t<div class=\"StraSerchBox\">\r\n\t\t\t\t<input type=\"text\" name=\"\" placeholder=\"请输入关键字\" v-model=\"searchData\">\r\n\t\t\t\t<div class=\"StraSerchBtn\" @click=\"searchStra(searchData)\">搜索</div>\r\n\t\t\t</div>\r\n\t\t</header>\r\n\t\t<div class=\"StraContent\">\r\n\t\t\t<div class=\"StraContentItem\" v-for=\"item in datalist\" :key=\"item.strategy_id\">\r\n\t\t\t\t<div class=\"ItemHead\">\r\n\t\t\t\t\t<router-link \r\n\t\t\t\t\ttag=\"img\"\r\n\t\t\t\t\t:to=\"'/other?name='+item.strategy_nickname\"\r\n\t\t\t\t\t:src=\"item.strategy_headimg\">\r\n\t\t\t\t\t</router-link>\r\n\t\t\t\t\t<!-- <img :src=\"item.strategy_headimg\"> -->\r\n\t\t\t\t\t<div class=\"id\">{{item.strategy_nickname}}</div>\r\n\t\t\t\t\t<div class=\"address\">在<span>{{item.strategy_ip}}</span> 发布的攻略</div>\r\n\t\t\t\t\t<div class=\"replay\"><i class=\"iconfont icon-clock\"></i>最后回复于 {{item.strategy_lastreply}}</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t<router-link :to=\"'/strategydetail?id='+item.strategy_id\" tag=\"div\"  class=\"ItemBody\">\r\n\t\t\t\t\t<div class=\"detialText\">\r\n\t\t\t\t\t\t<p class=\"detailTitle\">【攻略标题】{{item.strategy_title}}</p>\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<div class=\"lQuo\">\r\n\t\t\t\t\t\t\t\t<i class=\"iconfont icon-quotation\"></i>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div class=\"section\">{{item.strategy_html}}</div>\r\n\t\t\t\t\t\t\t<div class=\"rQuo\">\r\n\r\n\t\t\t\t\t\t\t\t<i class=\"iconfont icon-quotation\"></i>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<p class=\"pageHot\">热度{{item.strategy_hot}}</p>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<img :src=\"item.strategy_titleimg\" class=\"pageImg\">\r\n\t\t\t\t</router-link>\r\n\t\t\t\t\r\n\t\t\t</div>\r\n\t\t\t<div id=\"preloader_1\" v-show=\"nextdata\" style=\"margin-top: 20px;\">\r\n\t\t\t    <span></span>\r\n\t\t\t    <span></span>\r\n\t\t\t    <span></span>\r\n\t\t\t    <span></span>\r\n\t\t\t    <span></span>\r\n\t\t\t</div>\r\n\t\t\t<p v-show=\"ifmore\" style=\"text-align: center; margin-bottom: 20px;\">暂无更多数据</p>\r\n\t\t</div>\r\n\t\t\r\n\t\t<Foot></Foot>\r\n\t</div>\r\n</template>\r\n\r\n<script type=\"text/javascript\">\r\n\timport Nav from '../components/Nav.vue'\r\n\timport Foot from '../components/Foot.vue'\r\n\r\n\texport default {\r\n\t  name: 'Strtegy',\r\n\t  components: {\r\n\t    Nav,\r\n\t    Foot\r\n\t  },\r\n\t  methods: {\r\n\t  \tgetdate (num) {\r\n\t  \t\tthis.search = false\r\n\t  \t\tthis.$http.post('https://wy.lujiahaoo.cn/tour/strategy.php',{\r\n\t\t\t\t\"action\":\"strategy_list\",\r\n        \t\t\"num\":num\r\n\t\t\t},{}).then(result => {\r\n\t\t\t\t\r\n\t\t\t\tif(result.body.code === '1'){\r\n\t\t\t\t\tlet nowdata = result.body.data\r\n\t\t\t\t\tthis.datalist = this.lastdata.concat(nowdata)\r\n\t\t\t\t\tthis.lastdata = this.datalist\r\n\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthis.ifmore = true\r\n\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tconsole.log(result)\r\n\t\t\t})\r\n\t  \t},\r\n\t  \tgetmore () {\r\n\t  \t\t//滚动条滚动的距离\r\n\t \t\tlet scrollTop = document.body.scrollTop || document.documentElement.scrollTop ||  window.pageYOffset\r\n\t \t\t//窗口大小\r\n\t \t\tlet clientHeight = document.documentElement.clientHeight\r\n\t \t\t//可视高度加上溢出高度\r\n   \t\t\tlet scrollHeight = document.documentElement.scrollHeight\r\n\r\n   \t\t\tlet len = scrollHeight - scrollTop - clientHeight\r\n\r\n   \t\t\tif (len < 250 && this.lock && !this.search) {\r\n   \t\t\t\tthis.lock = false\r\n   \t\t\t\tthis.num++\r\n\r\n   \t\t\t\tthis.getdate(this.num)\r\n\r\n   \t\t\t\tif (this.ifmore != true) {\r\n   \t\t\t\t\tthis.nextdata = true\r\n   \t\t\t\t\tsetTimeout(() => {\r\n   \t\t\t\t\t\tthis.lock = true\r\n   \t\t\t\t\t\tthis.nextdata = false\r\n   \t\t\t\t\t},1000)\r\n   \t\t\t\t}\r\n   \t\t\t}\r\n\t  \t},\r\n\t  \t//搜索攻略\r\n\t  \tsearchStra (data) {\r\n\t  \t\tthis.search = true\r\n\t  \t\tthis.$http.post('https://wy.lujiahaoo.cn/tour/search.php',{\r\n\t\t\t\t\"action\":\"strategy_search_list\",\r\n        \t\t\"key\": data\r\n\t\t\t},{}).then(result => {\r\n\t\t\t\tconsole.log(result)\r\n\t\t\t\tthis.datalist = result.body.data\r\n\t\t\t})\r\n\t  \t}\r\n\t  },\r\n\t  data () {\r\n\t  \treturn {\r\n\t  \t\tnum: 0,\r\n\t  \t\tdatalist:'',\r\n\t  \t\tlastdata: [],\r\n\t  \t\tifmore: false,\r\n\t  \t\tlock: true,\r\n\t  \t\tnextdata: false,\r\n\t  \t\tsearchData: '',\r\n\t  \t\tsearch: false\r\n\t  \t}\r\n\t  },\r\n\t  mounted () {\r\n\t  \tif (this.$route.query.search != undefined) {\r\n\t  \t\tthis.searchData = this.$route.query.search\r\n\t  \t\tthis.searchStra(this.$route.query.search)\r\n\t  \t} else {\r\n\t  \t\tthis.getdate(this.num)\r\n\t  \t}\r\n\t  \t\r\n\t  \twindow.addEventListener('scroll', this.getmore)\r\n\t  },\r\n\t  watch: {\r\n\t  \t'searchData': function () {\r\n\t  \t\tif (this.searchData === '') {\r\n\t  \t\t\tthis.lastdata = []\r\n\t\t  \t\tthis.getdate(0)\r\n\t\t  \t}\r\n\t  \t}\r\n\t  }\r\n\t}\r\n</script>\r\n\r\n<style type=\"text/css\">\r\n\t/*头部*/\r\n\t#straHead{\r\n\t\theight: 552px;\r\n\t\tbackground: url(../../public/images/Strtegy_bg.png);\r\n\t\tbackground-repeat: no-repeat;\r\n\t\r\n\t}\r\n\t.StraLxText,\r\n\t.StraJbText{\r\n\t\tfont-size: 30px;\r\n\t\tletter-spacing: 15px;\r\n\t}\r\n\t.StraJbText>span{\r\n\t\tcolor: #7086c6;\r\n\t}\r\n\t.StraLxText{\r\n\t\tmargin-top: 99px;\r\n\t\t\r\n\t}\r\n\t.StragoToBtn,\r\n\t.StraJbText{\r\n\t\tmargin-top: 45px;\r\n\t}\r\n\t.StraLxText,\r\n\t.StraJbText,\r\n\t.StragoToBtn{\r\n\t\tmargin-left: 252px;\r\n\t}\r\n\t.StragoToBtn{\r\n\t\twidth: 160px;\r\n\t    height: 48px;\r\n\t    background-color: #7086c6;\r\n\t    color: #fff;\r\n\t    border-radius: 5px;\r\n\t    cursor: pointer;\r\n\t    text-align: center;\r\n\t    line-height: 48px;\r\n\t    letter-spacing: 1px;\r\n\t\t\r\n\t}\r\n\t.StraSerchBox{\r\n\t\twidth: 756px;\r\n\t\theight: 97px;\r\n\t\tborder-radius: 5px;\r\n    \tbackground-color: rgba(200,223,234,0.3);\r\n    \tmargin: 0 auto;\r\n    \tmargin-top: 54px;\r\n\t}\r\n\t.StraSerchBtn{\r\n\t\twidth: 112px;\r\n\t\theight: 42px;\r\n\t\tbackground-color: #7086c6;\r\n\t\tborder-radius: 5px;\r\n    \tcolor: #fff;\r\n    \ttext-align: center;\r\n    \tline-height: 42px;\r\n    \tdisplay: inline-block;\r\n    \tmargin-left: 21px;\r\n    \tcursor: pointer;\r\n\t}\r\n\t.StraSerchBox>input{\r\n\t\theight: 40px;\r\n\t    width: 536px;\r\n\t    border-radius: 5px;\r\n\t    border: 1px solid #757075;\r\n\t    background-color: rgba(255,255,255,0);\r\n\t    padding-left: 20px;\r\n\t    outline: none;\r\n\t    margin-top: 27px;\r\n   \t\t margin-left: 31px;\r\n\t}\r\n\t/*头部结束*/\r\n\t/*内容开始*/\r\n\t.StraContentItem{\r\n\t\twidth: 977px;\r\n\t\tmargin: 0 auto;\r\n\t}\r\n\t.ItemHead>img{\r\n\t\twidth: 61px;\r\n\t\theight: 61px;\r\n\t\tborder-radius: 100%;\r\n\t\tcursor: pointer;\r\n\t}\r\n\t.ItemHead>div{\r\n\t\tdisplay: inline-block;\r\n\t\tvertical-align: top;\r\n\t\tmargin-top: 22px;\r\n\t\tfont-size: 14px;\r\n\t}\r\n\t.id{\r\n\t\tmargin-left: 16px;\r\n\t\t\r\n\t\tfont-weight: bold;\r\n\t}\r\n\t.address,\r\n\t.replay{\r\n\t\tmargin-left: 28px;\r\n\t\tcolor: #747474;\r\n\t}\r\n\t.address>span{\r\n\t\t/*text-decoration:underline;*/\r\n\t\tborder-bottom:1px solid #747474;\r\n\t\tpadding-bottom: 2px;\r\n\t}\r\n\t.icon-clock{\r\n\t\tcolor: #ccc;\r\n\t\tfont-size: 14px;\r\n\t\tmargin-right: 5px;\r\n\t}\r\n\r\n\t.icon-quotation{\r\n\t\tcolor: #768bc8;\r\n\t}\r\n\t.ItemBody{\r\n\t\tborder-left: 1px solid  #ccc;\r\n\t\tmargin-left: 30px;\r\n\t\tcursor: pointer;\r\n\t\tpadding-bottom: 26px;\r\n\t}\r\n\t.ItemHead{\r\n\t\theight: 61px;\r\n\t}\r\n\t.detialText{\r\n\t\twidth: 620px;\r\n\t\tdisplay: inline-block;\r\n\t}\r\n\t.detailTitle{\r\n\t\tpadding-left: 65px;\r\n\t\tfont-size: 18px;\r\n\t\tcolor: #768bc8;\r\n\t}\r\n\t.detialText>div{\r\n\t\tmargin-top: 18px;\r\n\t\tfont-size: 15px;\r\n\r\n\t\t/*display: inline-block;*/\r\n\t\t/*vertical-align: top;*/\r\n\t\t/*height: */\r\n\t}\r\n\t.lQuo{\r\n\t\tmargin-left: 15px;\r\n\t}\r\n\t.section{\r\n\t\tmargin-left: 37px;\r\n\t\tline-height: 30px;\r\n\t}\r\n\t.rQuo{\r\n\t\ttext-align: right;\r\n\t\r\n\t\r\n\t}\r\n\t.rQuo>i{\r\n\t\ttransform: scale(-1,1);\r\n\t\t\r\n\t    transform: rotate(180deg);\r\n\t    display: inline-block;\r\n\t}\r\n\t.pageImg{\r\n\t\twidth: 279px;\r\n\t\theight: 189px;\r\n\t\tmargin-left: 40px;\r\n\t}\r\n\t.pageHot{\r\n\t\ttext-align: right;\r\n\t\tmargin-top: 42px;\r\n\t}\r\n\t.StraContentItem:last-child .ItemBody{\r\n\t\t/*background: red;*/\r\n\t\tborder:none;\r\n\t}\r\n</style>"]}]}